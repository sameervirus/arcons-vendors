<div class="relative h-64 m-8 overflow-hidden rounded-lg bg-indigo-500">
  <div class="absolute z-30 flex w-full h-full">
    <div class="relative z-30 w-5/6 px-6 py-8 text-white md:py-10 md:w-1/2">
      <h2 class="text-4xl">ARCONS Vendors registration form</h2>
      <h2 class="text-4xl">تسجيل الموردين</h2>
      <span></span>
    </div>
    <div class="absolute top-0 right-0 flex w-full h-full">
      <div class="w-1/3 h-full bg-indigo-500"></div>
      <div class="relative w-1/3">
        <svg
          fill="currentColor"
          viewBox="0 0 100 100"
          class="absolute inset-y-0 z-20 h-full text-indigo-500"
        >
          <polygon id="diagonal" points="0,0 100,0 50,100 0,100"></polygon>
        </svg>
        <svg
          fill="currentColor"
          viewBox="0 0 100 100"
          class="absolute inset-y-0 z-10 h-full ml-6 text-white opacity-50"
        >
          <polygon points="0,0 100,0 50,100 0,100"></polygon>
        </svg>
      </div>
    </div>
  </div>
  <div class="absolute top-0 right-0 block w-9/12 h-full">
    <img
      alt="Snowy mountain lake"
      class="object-cover min-w-full h-full"
      src="https://arconsegypt.com/wp-content/uploads/2021/05/15774811n.jpg"
    />
  </div>
</div>
<h4 *ngIf="action == 'add-vendor'" class="text-center underline text-blue-700">
  <a routerLink="/vendor-restore"
    >already register and need to update your registration please click here</a
  >
</h4>
<div *ngIf="!fromSubmitted" class="max-w-5xl mx-auto">
  <h2 class="text-2xl font-bold mb-4">
    Suppliers & Services Providers Information
  </h2>
  <h2 class="text-2xl font-bold mb-4 text-right">
    معلومات الموردين ومقدمي الخدمات
  </h2>
  <form
    [formGroup]="vendorForm"
    (ngSubmit)="onSubmit()"
    enctype="multipart/form-data"
    class="space-y-10"
  >
    <div class="mb-4">
      <label for="businessName" class="block text-gray-700 font-bold mb-2"
        >Vendor Business Name*
        <span class="text-to-right">الاسم التجاري للمورد *</span></label
      >
      <input
        type="text"
        id="businessName"
        name="businessName"
        formControlName="businessName"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      />
      <div
        *ngIf="
          vendorForm.controls['businessName'].invalid &&
          (vendorForm.controls['businessName'].dirty || submitted)
        "
        class="text-red-500"
      >
        <div *ngIf="vendorForm.controls['businessName'].hasError('required')">
          Vendor Business Name is required. الاسم التجاري للمورد مطلوب.
        </div>
      </div>
    </div>

    <div class="mb-4" *ngIf="categories">
      <label for="mainBusiness" class="block text-gray-700 font-bold mb-2"
        >Main Business / Industry*<span class="text-to-right"
          >الأعمال الرئيسية / الصناعة*</span
        ></label
      >
      <p class="text-sm">
        Multi choice <span class="text-to-right">اختيارات متعددة</span>
      </p>
      <select
        multiple=""
        formControlName="mainBusiness"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        tabindex="-98"
      >
        <option
          *ngFor="let category of categories"
          value="{{ category.value }}"
        >
          {{ category.text }}
        </option>
      </select>
      <div
        *ngIf="
          vendorForm.controls['mainBusiness'].invalid &&
          (vendorForm.controls['mainBusiness'].dirty || submitted)
        "
        class="text-red-500"
      >
        <div *ngIf="vendorForm.controls['mainBusiness'].hasError('required')">
          Main Business / Industry is required مطلوب
        </div>
      </div>
    </div>
    <div class="mb-4">
      <label for="yearsInBusiness" class="block text-gray-700 font-bold mb-2"
        >How Many Years Vendor Has Been In Business?<span class="text-to-right"
          >كم عدد السنوات التي قضاها المورد في العمل؟</span
        ></label
      >
      <input
        type="number"
        id="yearsInBusiness"
        name="yearsInBusiness"
        formControlName="yearsInBusiness"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      />
    </div>
    <div class="mb-4">
      <label for="mainClients" class="block text-gray-700 font-bold mb-2"
        >Main Clients In The Past Three Years?<span class="text-to-right"
          >عملاؤك الرئيسيين خلال السنوات الثلاث الماضية؟</span
        >
      </label>
      <textarea
        id="mainClients"
        name="mainClients"
        rows="4"
        formControlName="mainClients"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      ></textarea>
    </div>
    <div class="mb-4">
      <label for="registeredEInvoice" class="block text-gray-700 font-bold mb-2"
        >Registered on Egyptian E-invoice System*<span class="text-to-right"
          >مسجل في نظام الفاتورة الإلكترونية المصري*</span
        ></label
      >
      <div class="flex items-center">
        <input
          type="radio"
          id="registeredYes"
          name="registeredEInvoice"
          value="yes"
          class="mr-2"
          formControlName="registeredEInvoice"
        />
        <label for="registeredYes" class="mr-4">Yes</label>
        <input
          type="radio"
          id="registeredNo"
          name="registeredEInvoice"
          value="no"
          class="mr-2"
          formControlName="registeredEInvoice"
        />
        <label for="registeredNo">No</label>
        <div
          *ngIf="
            vendorForm.controls['registeredEInvoice'].invalid &&
            (vendorForm.controls['registeredEInvoice'].dirty || submitted)
          "
          class="text-red-500"
        >
          <div
            *ngIf="
              vendorForm.controls['registeredEInvoice'].hasError('required')
            "
          >
            Registered on Egyptian E-invoice System is required مطلوب
          </div>
        </div>
      </div>
    </div>
    <div class="mb-4">
      <label for="contactName" class="block text-gray-700 font-bold mb-2"
        >Name*<span class="text-to-right">الاسم*</span></label
      >
      <input
        type="text"
        id="contactName"
        name="contactName"
        formControlName="contactName"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      />
      <div
        *ngIf="
          vendorForm.controls['contactName'].invalid &&
          (vendorForm.controls['contactName'].dirty || submitted)
        "
        class="text-red-500"
      >
        <div *ngIf="vendorForm.controls['contactName'].hasError('required')">
          Contact Name is required مطلوب
        </div>
      </div>
    </div>
    <div class="mb-4">
      <label for="phone" class="block text-gray-700 font-bold mb-2"
        >Phone*<span class="text-to-right">التليفون/الموبايل*</span></label
      >
      <input
        type="text"
        id="phone"
        name="phone"
        formControlName="phone"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      />
      <div
        *ngIf="
          vendorForm.controls['phone'].invalid &&
          (vendorForm.controls['phone'].dirty || submitted)
        "
        class="text-red-500"
      >
        <div *ngIf="vendorForm.controls['phone'].hasError('required')">
          Phone is required مطلوب
        </div>
      </div>
    </div>
    <div class="mb-4">
      <label for="address" class="block text-gray-700 font-bold mb-2"
        >Address*<span class="text-to-right">العنوان*</span></label
      >
      <input
        type="text"
        id="address"
        name="address"
        formControlName="address"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      />
      <div
        *ngIf="
          vendorForm.controls['address'].invalid &&
          (vendorForm.controls['address'].dirty || submitted)
        "
        class="text-red-500"
      >
        <div *ngIf="vendorForm.controls['address'].hasError('required')">
          Address is required مطلوب
        </div>
      </div>
    </div>
    <div class="mb-4">
      <label for="fax" class="block text-gray-700 font-bold mb-2"
        >Fax<span class="text-to-right">الفاكس</span></label
      >
      <input
        type="text"
        id="fax"
        name="fax"
        formControlName="fax"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      />
    </div>
    <div class="mb-4">
      <label for="email" class="block text-gray-700 font-bold mb-2"
        >Email*<span class="text-to-right">البريد الالكتروني*</span></label
      >
      <input
        type="email"
        id="email"
        name="email"
        formControlName="email"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      />
      <div
        *ngIf="
          vendorForm.controls['email'].invalid &&
          (vendorForm.controls['email'].dirty || submitted)
        "
        class="text-red-500"
      >
        <div *ngIf="vendorForm.controls['email'].hasError('required')">
          email is required مطلوب
        </div>
        <div *ngIf="vendorForm.controls['email'].hasError('email')">
          email is not valid غير صالح
        </div>
      </div>
      <div
        *ngIf="vendorForm.controls['email'].hasError('serverError')"
        class="text-red-500"
      >
        {{ vendorForm.controls["email"].getError("serverError") }}
      </div>
    </div>
    <div class="mb-4">
      <label for="website" class="block text-gray-700 font-bold mb-2"
        >Website Address<span class="text-to-right"
          >الموقع الالكتروني</span
        ></label
      >
      <input
        type="text"
        id="website"
        name="website"
        formControlName="website"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      />
    </div>
    <div class="mb-4">
      <label
        for="commercialRegistration"
        class="block text-gray-700 font-bold mb-2"
        >Commercial Registration # *<span class="text-to-right"
          >رقم السجل التجاري</span
        ></label
      >
      <input
        type="text"
        id="commercialRegistration"
        name="commercialRegistration"
        formControlName="commercialRegistration"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      />
      <div
        *ngIf="
          vendorForm.controls['commercialRegistration'].invalid &&
          (vendorForm.controls['commercialRegistration'].dirty || submitted)
        "
        class="text-red-500"
      >
        <div
          *ngIf="
            vendorForm.controls['commercialRegistration'].hasError('required')
          "
        >
          Commercial Registration is required مطلوب
        </div>
      </div>
    </div>
    <div class="mb-4">
      <label for="taxId" class="block text-gray-700 font-bold mb-2"
        >Tax ID *<span class="text-to-right">رقم البطاقة الضريبية</span></label
      >
      <input
        type="text"
        id="taxId"
        name="taxId"
        formControlName="taxId"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
      />
      <div
        *ngIf="
          vendorForm.controls['taxId'].invalid &&
          (vendorForm.controls['taxId'].dirty || submitted)
        "
        class="text-red-500"
      >
        <div *ngIf="vendorForm.controls['taxId'].hasError('required')">
          Tax ID is required مطلوب
        </div>
      </div>
    </div>
    <!-- Add more form fields here -->
    <div class="mb-4">
      <label for="registrationFile" class="block text-gray-700 font-bold mb-2"
        >Commercial Registration*<span class="text-to-right"
          >السجل التجاري*</span
        ></label
      >
      <input
        type="file"
        id="registrationFile"
        formControlName="registrationFile"
        class="text-gray-700"
        (change)="onCommercialRegistrationFileSelected($event)"
      />
      <div
        *ngIf="
          f['registrationFile'].errors &&
          (f['registrationFile'].dirty || submitted)
        "
        class="text-red-500"
      >
        <div *ngIf="f['registrationFile'].hasError('required')">
          File is required. مطلوب
        </div>
        <div *ngIf="f['registrationFile'].hasError('fileSizeExceeded')">
          File size exceeds the limit of 5 MB. المرفق لا يزيد عن 5 ميجابايت
        </div>
      </div>
    </div>

    <div class="mb-4">
      <label for="taxCardFile" class="block text-gray-700 font-bold mb-2"
        >Tax Card*<span class="text-to-right">البطاقة الضريبية*</span></label
      >
      <input
        type="file"
        id="taxCardFile"
        formControlName="taxCardFile"
        class="text-gray-700"
        (change)="onTaxCardFileSelected($event)"
      />
      <div
        *ngIf="f['taxCardFile'].errors && (f['taxCardFile'].dirty || submitted)"
        class="text-red-500"
      >
        <div *ngIf="f['taxCardFile'].hasError('required')">
          File is required. مطلوب
        </div>
        <div *ngIf="f['taxCardFile'].hasError('fileCardSizeExceeded')">
          File size exceeds the limit of 5 MB. المرفق لا يزيد عن 5 ميجابايت
        </div>
      </div>
    </div>

    <div class="mb-4">
      <label for="others" class="block text-gray-700 font-bold mb-2"
        >Others<span class="text-to-right">مرفقات اخري</span></label
      >
      <input
        type="file"
        multiple
        id="others"
        name="others"
        class="text-gray-700"
        (change)="onOthersFileSelected($event)"
      />
      <div
        *ngIf="f['otherFiles'].errors && (f['otherFiles'].dirty || submitted)"
        class="text-red-500"
      >
        <div *ngIf="f['otherFiles'].hasError('otherFileSizeExceeded')">
          one or more file size exceeds the limit of 5 MB. حجم ملف واحد أو أكثر
          يتجاوز حد 5 ميجا بايت.
        </div>
      </div>
    </div>

    <button
      [disabled]="vendorForm.invalid && submitted"
      type="submit"
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:bg-gray-500 disabled:text-gray-300 disabled:cursor-not-allowed"
    >
      Submit
    </button>
  </form>
</div>
<h2 *ngIf="fromSubmitted" class="text-2xl font-bold mb-4 text-center">
  Thank you, Your registration has been completed
</h2>
